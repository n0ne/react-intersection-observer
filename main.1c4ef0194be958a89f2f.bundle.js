(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(117),__webpack_require__(50),__webpack_require__(107),__webpack_require__(109),__webpack_require__(21);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(123);__webpack_require__(122),__webpack_require__(511),__webpack_require__(36),__webpack_require__(23),__webpack_require__(26),__webpack_require__(78),__webpack_require__(167),__webpack_require__(114),__webpack_require__(22),__webpack_require__(512);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var marginRE=/^-?\d*\.?\d+(px|%)$/;function shallowCompare(next,prev){return Array.isArray(next)&&Array.isArray(prev)&&next.length===prev.length?next.some(function(_,index){return shallowCompare(next[index],prev[index])}):next!==prev}var observerElementsMap=new Map;function getPooled(){for(var observer,options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},root=options.root||null,rootMargin=function parseRootMargin(rootMargin){var _marginString$split$m2=_slicedToArray((rootMargin?rootMargin.trim():"0px").split(/\s+/).map(function(margin){if(!marginRE.test(margin))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return margin}),4),_marginString$split$m3=_marginString$split$m2[0],m0=void 0===_marginString$split$m3?"0px":_marginString$split$m3,_marginString$split$m4=_marginString$split$m2[1],m1=void 0===_marginString$split$m4?m0:_marginString$split$m4,_marginString$split$m5=_marginString$split$m2[2],m2=void 0===_marginString$split$m5?m0:_marginString$split$m5,_marginString$split$m6=_marginString$split$m2[3],m3=void 0===_marginString$split$m6?m1:_marginString$split$m6;return"".concat(m0," ").concat(m1," ").concat(m2," ").concat(m3)}(options.rootMargin),threshold=Array.isArray(options.threshold)?options.threshold:[null==options.threshold?0:options.threshold],observers=observerElementsMap.keys();observer=observers.next().value;){if(!(root!==observer.root||rootMargin!==observer.rootMargin||shallowCompare(threshold,observer.thresholds)))return observer}return null}function findObserverElement(observer,entry){var elements=observerElementsMap.get(observer);if(elements)for(var element,values=elements.values();element=values.next().value;)if(element.target===entry.target)return element;return null}function callback(changes,observer){for(var element,i=0;i<changes.length;i++)(element=findObserverElement(observer,changes[i]))&&element.handleChange(changes[i])}function createObserver(options){return getPooled(options)||new IntersectionObserver(callback,options)}var browser=__webpack_require__(208),browser_default=__webpack_require__.n(browser),config={},src_config=Object.create(null,{errorReporter:{configurable:!1,get:function get(){return config.errorReporter||function(format){return browser_default()(!1,format)}},set:function set(value){if("function"!=typeof value)throw new Error("ReactIntersectionObserver: `Config.errorReporter` must be a callable");config.errorReporter=value}}});function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.d(__webpack_exports__,"a",function(){return IntersectionObserver_IntersectionObserver});var observerOptions=["root","rootMargin","threshold"],observableProps=["root","rootMargin","threshold","disabled"],_Object$prototype=Object.prototype,IntersectionObserver_hasOwnProperty=_Object$prototype.hasOwnProperty,IntersectionObserver_toString=_Object$prototype.toString,getOptions=function(props){return observerOptions.reduce(function(options,key){if(IntersectionObserver_hasOwnProperty.call(props,key)){var rootIsString="root"===key&&"[object String]"===IntersectionObserver_toString.call(props[key]);options[key]=rootIsString?document.querySelector(props[key]):props[key]}return options},{})},IntersectionObserver_IntersectionObserver=function(_React$Component){function IntersectionObserver(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IntersectionObserver);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(IntersectionObserver)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){_this.props.onChange(event,_this.externalUnobserve)}),_defineProperty(_assertThisInitialized(_this),"handleNode",function(target){var children=_this.props.children;if(null!=children){var nodeRef=children.ref;nodeRef&&("function"==typeof nodeRef?nodeRef(target):"object"===_typeof(nodeRef)&&(nodeRef.current=target))}_this.targetNode=target&&Object(react_dom.findDOMNode)(target)}),_defineProperty(_assertThisInitialized(_this),"observe",function(){return!(null==_this.props.children||_this.props.disabled||(_this.targetNode?(_this.observer=createObserver(getOptions(_this.props)),_this.target=_this.targetNode,function observeElement(element){observerElementsMap.has(element.observer)||observerElementsMap.set(element.observer,new Set),observerElementsMap.get(element.observer).add(element),element.observer.observe(element.target)}(_assertThisInitialized(_this)),0):(src_config.errorReporter("ReactIntersectionObserver: Can't find DOM node in the provided children. Make sure to render at least one DOM node in the tree."),1)))}),_defineProperty(_assertThisInitialized(_this),"unobserve",function(target){!function unobserveElement(element,target){if(observerElementsMap.has(element.observer)){var targets=observerElementsMap.get(element.observer);targets.delete(element)&&(0<targets.size?element.observer.unobserve(target):(element.observer.disconnect(),observerElementsMap.delete(element.observer)))}}(_assertThisInitialized(_this),target)}),_defineProperty(_assertThisInitialized(_this),"externalUnobserve",function(){_this.unobserve(_this.targetNode)}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(IntersectionObserver,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(IntersectionObserver,[{key:"getSnapshotBeforeUpdate",value:function getSnapshotBeforeUpdate(prevProps){var _this2=this;this.prevTargetNode=this.targetNode;var relatedPropsChanged=observableProps.some(function(prop){return shallowCompare(_this2.props[prop],prevProps[prop])});return relatedPropsChanged&&this.prevTargetNode&&!prevProps.disabled&&this.unobserve(this.prevTargetNode),relatedPropsChanged}},{key:"componentDidUpdate",value:function componentDidUpdate(_,__,relatedPropsChanged){var targetNodeChanged=!1;relatedPropsChanged||(targetNodeChanged=this.prevTargetNode!==this.targetNode)&&null!=this.prevTargetNode&&this.unobserve(this.prevTargetNode),(relatedPropsChanged||targetNodeChanged)&&this.observe()}},{key:"componentDidMount",value:function componentDidMount(){this.observe()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.targetNode&&this.unobserve(this.targetNode)}},{key:"render",value:function render(){var children=this.props.children;return null==children?null:react_default.a.cloneElement(react_default.a.Children.only(children),{ref:this.handleNode})}}]),IntersectionObserver}();IntersectionObserver_IntersectionObserver.displayName="IntersectionObserver",_defineProperty(IntersectionObserver_IntersectionObserver,"displayName","IntersectionObserver"),IntersectionObserver_IntersectionObserver.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleNode",docblock:null,modifiers:[],params:[{name:"target",type:null}],returns:null},{name:"observe",docblock:null,modifiers:[],params:[],returns:null},{name:"unobserve",docblock:null,modifiers:[],params:[{name:"target",type:null}],returns:null},{name:"externalUnobserve",docblock:null,modifiers:[],params:[],returns:null},{name:"getSnapshotBeforeUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null}],displayName:"IntersectionObserver",props:{children:{type:{name:"element"},required:!1,description:"The element that is used as the target to observe."},root:{type:{name:"union",computed:!0,value:"[PropTypes.string].concat(\n    typeof HTMLElement === 'undefined'\n        ? []\n        : PropTypes.instanceOf(HTMLElement)\n)"},required:!1,description:"The element that is used as the viewport for checking visibility of the target.\nCan be specified as string for selector matching within the document.\nDefaults to the browser viewport if not specified or if null."},rootMargin:{type:{name:"string"},required:!1,description:'Margin around the root. Can have values similar to the CSS margin property,\ne.g. "10px 20px 30px 40px" (top, right, bottom, left).\nIf the root element is specified, the values can be percentages.\nThis set of values serves to grow or shrink each side of the root element\'s\nbounding box before computing intersections.\nDefaults to all zeros.'},threshold:{type:{name:"union",value:[{name:"number"},{name:"arrayOf",value:{name:"number"}}]},required:!1,description:"Either a single number or an array of numbers which indicate at what percentage\nof the target's visibility the observer's callback should be executed.\nIf you only want to detect when visibility passes the 50% mark, you can use a value of 0.5.\nIf you want the callback run every time visibility passes another 25%,\nyou would specify the array [0, 0.25, 0.5, 0.75, 1].\nThe default is 0 (meaning as soon as even one pixel is visible, the callback will be run).\nA value of 1.0 means that the threshold isn't considered passed until every pixel is visible."},disabled:{type:{name:"bool"},required:!1,description:"Controls whether the element should stop being observed by its IntersectionObserver instance.\nDefaults to false."},onChange:{type:{name:"func"},required:!0,description:"Function that will be invoked whenever the intersection value for this element changes."}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/IntersectionObserver.js"]={name:"IntersectionObserver",docgenInfo:IntersectionObserver_IntersectionObserver.__docgenInfo,path:"src/IntersectionObserver.js"})},207:function(module,exports){module.exports="Basic usage of **IntersectionObserver** that changes the className of the observed **<div />** element when the visibility changes:\n\n```jsx\nimport React, { Component } from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nexport default class WindowRoot extends Component {\n  state = {\n    visibility: 'hidden',\n  };\n\n  handleChange = event => {\n    this.setState({\n      visibility: event.isIntersecting ? 'visible' : 'invisible',\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={`header ${this.state.visibility}`}>\n          {this.state.visibility}\n        </div>\n        <div className=\"body\">\n          <Observer onChange={this.handleChange}>\n            <div className={`box ${this.state.visibility}`} />\n          </Observer>\n        </div>\n      </div>\n    );\n  }\n}\n```"},209:function(module,exports){module.exports="Example a target within a scrollable frame and iframes to behave correctly. Note that in the example we're using `Window` as the root, which indicates that the observed target triggers changes when intersecting with the viewport, in this case `Window`.\n\nTo see another approach to setting the `root`, check out the [rootMargin](https://researchgate.github.io/react-intersection-observer/?selectedKind=Examples&selectedStory=Margin) example."},210:function(module,exports){module.exports="The option `threshold` is either a single number or an array of numbers which indicate at what percentage of the target's visibility the observer's callback should be executed. If you only want to detect when visibility passes the 50% mark, you can use a value of 0.5. If you want the callback run every time visibility passes another 25%, you would specify the array `[0, 0.25, 0.5, 0.75, 1]`.\n\nThe default is `0` (meaning as soon as even one pixel is visible, the callback will be run).\nA value of `1.0` means that the threshold isn't considered passed until every pixel is visible.\n\nNote that when comparing old and new props, the component will compare the values within the `treshold` array in the same order, so you don't necessarily have to keep a reference to it. This is specially useful when using within a functional component.\n\n```jsx\nimport React, { Component } from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nconst getPrintableThreshold = (ratio, range) =>\n  range.reduce((prev, curr) =>\n    Math.abs(curr - ratio) < Math.abs(prev - ratio) ? curr : prev);\n\nexport default class WithThresholds extends Component {\n  state = {\n    visibility: 'hidden',\n    threshold: 0,\n  };\n\n  handleChange = ({ isIntersecting, intersectionRatio }) => {\n    this.setState({\n      visibility: isIntersecting ? 'visible' : 'invisible',\n      threshold: getPrintableThreshold(\n        intersectionRatio.toFixed(2),\n        [0, 0.25, 0.5, 0.75, 1]\n      ),\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={`header ${this.state.visibility}`}>\n          {this.state.threshold * 100}%\n        </div>\n        <div className=\"body\">\n          <div className={this.state.visibility}>\n            <Observer\n              onChange={this.handleChange}\n              threshold={[0, 0.25, 0.5, 0.75, 1]}\n            >\n              <div className={`box ${this.state.visibility}`} />\n            </Observer>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n```"},211:function(module,exports){module.exports="The option `rootMargin`'s syntax follows that of the `margin` CSS property. The unit(s) however **must** be provided in either `px` or `%` or both. It can also contain _negative values_, which are very useful to shrink the available viewport of the `IntersectionObserver`.\n\nInterestingly a percentage value works great to determine if an item is visible on very different screen sizes, e.g.: mobile vs desktop screens.\n\nNote that in the example below, we conciously show how to set a root to a DOM element, making use of the `disable` option. Since both `Element` and `String` can be used, a more effective way would be to pass a valid `querySelector` string instead.\n\n```jsx\nimport React, { Component } from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nexport default class WithRootMargin extends Component {\n  state = {\n    visibility: 'invisible',\n    scroller: null,\n  };\n\n  handleChange = event => {\n    this.setState({\n      visibility: event.isIntersecting ? 'visible' : 'invisible',\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={`header ${this.state.visibility}`}>\n          {this.state.visibility}\n        </div>\n        <div className=\"body body--frame\">\n          <div\n            className=\"scroller scroller--gradient\"\n            ref={node => {\n              if (!this.state.scroller) {\n                this.setState({ scroller: node });\n              }\n            }}\n          >\n            <div className=\"frame\">\n              <Observer\n                onChange={this.handleChange}\n                disabled={!this.state.scroller}\n                root={this.state.scroller}\n                rootMargin=\"0% 0% -25%\"\n              >\n                <div className={`box ${this.state.visibility}`} />\n              </Observer>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n```"},212:function(module,exports){module.exports="_Use the second argument of `onChange(event, unobserve)` to customize how you prefer to stop observing the target. You\ncan also set the prop `disabled=true` in the `<Observer>` element to achieve the same effect._\n\n**Deprecated**: ~~The option `onlyOnce` applied to the component will only trigger the event one time: when the target\ndetects `isIntersecting` is truthy. This is specially useful when you need a _disposable observer_, and you need to\nprevent re-rendering the element later:~~\n\n```jsx\nimport React, { Component } from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nexport default class OnlyOnce extends Component {\n    state = {\n        visibility: 'hidden',\n    };\n\n    handleChange = (event, unobserve) => {\n        if (event.isIntersecting) {\n            unobserve();\n        }\n        this.setState({\n            visibility: event.isIntersecting ? 'visible' : 'invisible',\n        });\n    };\n\n    render() {\n        return (\n            <div>\n                <div className={`header ${this.state.visibility}`}>{this.state.visibility}</div>\n                <div className=\"body\">\n                    <Observer onChange={this.handleChange}>\n                        <div className={`box ${this.state.visibility}`} />\n                    </Observer>\n                </div>\n            </div>\n        );\n    }\n}\n```\n"},213:function(module,exports){module.exports="## Ad Impressions\n\nThe requirements for **Viewable Ad Impressions** should generally follow certain guidelines, industry-related standards, some of which are:\n\n* __Viewable pixels__: Greater than or equal to 50% of the pixels in the\nadvertisement were on an in-focus browser tab on the viewable space of\nthe browser page.\n* __Viewing time__: The time the pixel requirement is met was greater\nthan or equal to one continuous second, post ad render.\n\n```jsx\nimport React from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nexport default class AdImpression extends React.Component {\n  state = {\n    tracked: '',\n  };\n\n  handleChange = event => {\n    if (event.isIntersecting && event.intersectionRatio >= 0.5) {\n      this.recordedTimeout = setTimeout(() => {\n        this.setState({ tracked: 'ad--tracked' });\n      }, 1000);\n      return;\n    }\n    clearTimeout(this.recordedTimeout);\n  };\n\n  render() {\n    return (\n      <Observer onChange={this.handleChange} threshold={0.5}>\n        <div className={`ad ${this.state.tracked}`} />\n      </Observer>\n    );\n  }\n}\n```\n#### Notes\n\nDoubleClick DFP reporting is following the [Media Rating Council: Viewable Impression Guideline](http://www.mediaratingcouncil.org/063014%20Viewable%20Ad%20Impression%20Guideline_Final.pdf). Different criteria applies to Display ads of different kinds: Video, Images or Framed-content."},214:function(module,exports){module.exports="## Higher order component\n\nA common way to avoid repetition and dynamic option setting is to use a HOC. Since our component is great at reusing instances based on the passed options, you don't have to worry about creating too many of them.\n\nThe next example illustrates in a simple way how a HOC is used to wrap target elements for occlusion culling:\n\n### withIntersectionObserver.js\n```jsx\nimport React, { Component } from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nexport default threshold => BaseComponent => {\n  const displayName = BaseComponent.displayName || BaseComponent.name || 'Component';\n\n  return class WithIntersectionObserver extends Component {\n    static displayName = `withIntersectionObserver(${displayName})`;\n\n    state = {\n      isIntersecting: false,\n    };\n\n    handleChange = ({ isIntersecting, intersectionRatio }) => {\n      this.setState({ isIntersecting: isIntersecting && intersectionRatio >= threshold });\n    };\n\n    render() {\n      return (\n        <Observer onChange={this.handleChange} threshold={threshold}>\n          <BaseComponent {...this.props} isVisible={this.state.isIntersecting} />\n        </Observer>\n      );\n    }\n  };\n};\n```\n\n### Target.js\n```jsx\nimport React, { Component } from 'react';\n\nexport default class Target extends Component {\n  render() {\n    return (\n      <div className={`box ${this.props.isVisible ? 'visible' : 'transparent'}`}>\n        {this.props.isVisible ? 'Visible' : 'Culled'}\n      </div>\n    );\n  }\n}\n```\n\n### Component.js\n```jsx\nimport withIntersectionObserver from './WithIntersectionObserver';\nimport Target from './Target';\n\nexport default withIntersectionObserver(0.99)(Target);\n```\n\n### Example.js\n```jsx\nimport React from 'react';\nimport Component from './Component';\n\nexport default () =>\n  <div>\n    <div className=\"header visible\">Higher Order Component - Occlusion Culling</div>\n    <div className=\"body body--center\">\n      <Component />\n      <Component />\n      <Component />\n      <Component />\n      <Component />\n    </div>\n  </div>\n);\n```"},215:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(214),README_default=__webpack_require__.n(README),IntersectionObserver=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(30),__webpack_require__(24),__webpack_require__(27),__webpack_require__(1),__webpack_require__(44),__webpack_require__(12));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__(122);function Target_typeof(obj){return(Target_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Target_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Target_possibleConstructorReturn(self,call){return!call||"object"!==Target_typeof(call)&&"function"!=typeof call?function Target_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Target_getPrototypeOf(o){return(Target_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Target_setPrototypeOf(o,p){return(Target_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Target_Target=function(_Component){function Target(){return function Target_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Target),Target_possibleConstructorReturn(this,Target_getPrototypeOf(Target).apply(this,arguments))}return function Target_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Target_setPrototypeOf(subClass,superClass)}(Target,react["Component"]),function Target_createClass(Constructor,protoProps,staticProps){return protoProps&&Target_defineProperties(Constructor.prototype,protoProps),staticProps&&Target_defineProperties(Constructor,staticProps),Constructor}(Target,[{key:"render",value:function render(){return react_default.a.createElement("div",{className:"box ".concat(this.props.isVisible?"visible":"transparent")},this.props.isVisible?"Visible":"Culled")}}]),Target}();Target_Target.displayName="Target",Target_Target.__docgenInfo={description:"",methods:[],displayName:"Target",props:{isVisible:{type:{name:"bool"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/HigherOrderComponent/Target.js"]={name:"Target",docgenInfo:Target_Target.__docgenInfo,path:"docs/docs/components/HigherOrderComponent/Target.js"});var threshold,Component=(threshold=.99,function(BaseComponent){var _class,_temp,displayName=BaseComponent.displayName||BaseComponent.name||"Component";return _temp=_class=function(_Component){function WithIntersectionObserver(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WithIntersectionObserver);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(WithIntersectionObserver)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{isIntersecting:!1}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(_ref){var isIntersecting=_ref.isIntersecting,intersectionRatio=_ref.intersectionRatio;_this.setState({isIntersecting:isIntersecting&&intersectionRatio>=threshold})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WithIntersectionObserver,react.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WithIntersectionObserver,[{key:"render",value:function render(){return react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange,threshold:threshold},react_default.a.createElement(BaseComponent,_extends({},this.props,{isVisible:this.state.isIntersecting})))}}]),WithIntersectionObserver}(),_defineProperty(_class,"displayName","withIntersectionObserver(".concat(displayName,")")),_temp})(Target_Target),_ref=react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header visible"},"Higher Order Component - Occlusion Culling"),react_default.a.createElement("div",{className:"body body--center"},react_default.a.createElement(Component,null),react_default.a.createElement(Component,null),react_default.a.createElement(Component,null),react_default.a.createElement(Component,null),react_default.a.createElement(Component,null)));__webpack_exports__.a=with_readme_default()(README_default.a,function(){return _ref})},216:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(213),README_default=__webpack_require__.n(README),dist=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(122),__webpack_require__(16)),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var tracked=Object(dist.action)("tracked"),AdImpression_AdImpression=function(_React$Component){function AdImpression(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AdImpression);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(AdImpression)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{tracked:""}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){return event.isIntersecting&&.5<=event.intersectionRatio?void(_this.recordedTimeout=setTimeout(function(){_this.setState({tracked:"ad--tracked"}),tracked("ad #".concat(_this.props.index))},1e3)):void clearTimeout(_this.recordedTimeout)}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AdImpression,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AdImpression,[{key:"render",value:function render(){return react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange,threshold:.5},react_default.a.createElement("div",{className:"ad ".concat(this.state.tracked)}))}}]),AdImpression}();AdImpression_AdImpression.displayName="AdImpression",AdImpression_AdImpression.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"AdImpression",props:{index:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/ImpressionTracking/AdImpression.js"]={name:"AdImpression",docgenInfo:AdImpression_AdImpression.__docgenInfo,path:"docs/docs/components/ImpressionTracking/AdImpression.js"});var _ref=react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header visible"},"Criteria: 50% visible pixels + 1 continuous sec"),react_default.a.createElement("div",{className:"body body--center"},react_default.a.createElement(AdImpression_AdImpression,{index:1}),react_default.a.createElement(AdImpression_AdImpression,{index:2}),react_default.a.createElement(AdImpression_AdImpression,{index:3}))),ImpressionTracking=function(){return _ref};ImpressionTracking.displayName="ImpressionTracking";var ImpressionTracking_ImpressionTracking=ImpressionTracking;ImpressionTracking.__docgenInfo={description:"",methods:[],displayName:"ImpressionTracking"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/ImpressionTracking/ImpressionTracking.js"]={name:"ImpressionTracking",docgenInfo:ImpressionTracking.__docgenInfo,path:"docs/docs/components/ImpressionTracking/ImpressionTracking.js"});var ImpressionTracking_ref=react_default.a.createElement(ImpressionTracking_ImpressionTracking,null);__webpack_exports__.a=with_readme_default()(README_default.a,function(){return ImpressionTracking_ref})},217:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(207),README_default=__webpack_require__.n(README),dist=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(22),__webpack_require__(16)),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var storyBookAction=Object(dist.decorateAction)([function(args){return["isIntersecting","intersectionRatio"].map(function(key){return"".concat(key,": ").concat(args[0][key])})}])("onChange"),WindowRoot_WindowRoot=function(_Component){function WindowRoot(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WindowRoot);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(WindowRoot)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{visibility:"hidden"}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){storyBookAction(event),_this.setState({visibility:event.isIntersecting?"visible":"invisible"})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WindowRoot,react["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WindowRoot,[{key:"render",value:function render(){return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header ".concat(this.state.visibility)},this.state.visibility),react_default.a.createElement("div",{className:"body"},react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange},react_default.a.createElement("div",{className:"box ".concat(this.state.visibility)}))))}}]),WindowRoot}();WindowRoot_WindowRoot.displayName="WindowRoot",WindowRoot_WindowRoot.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"WindowRoot"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/WindowRoot/WindowRoot.js"]={name:"WindowRoot",docgenInfo:WindowRoot_WindowRoot.__docgenInfo,path:"docs/docs/components/WindowRoot/WindowRoot.js"});var _ref=react_default.a.createElement(WindowRoot_WindowRoot,null);__webpack_exports__.a=with_readme_default()(README_default.a,function(){return _ref})},218:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(212),README_default=__webpack_require__.n(README),dist=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(22),__webpack_require__(16)),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var storyBookAction=Object(dist.decorateAction)([function(args){return["isIntersecting","intersectionRatio"].map(function(key){return"".concat(key,": ").concat(args[0][key])})}])("onChange"),OnlyOnce_OnlyOnce=function(_Component){function OnlyOnce(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,OnlyOnce);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(OnlyOnce)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{visibility:"hidden"}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event,unobserve){event.isIntersecting&&unobserve(),storyBookAction(event),_this.setState({visibility:event.isIntersecting?"visible":"invisible"})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(OnlyOnce,react["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(OnlyOnce,[{key:"render",value:function render(){return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header ".concat(this.state.visibility)},this.state.visibility),react_default.a.createElement("div",{className:"body"},react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange},react_default.a.createElement("div",{className:"box ".concat(this.state.visibility)}))))}}]),OnlyOnce}();OnlyOnce_OnlyOnce.displayName="OnlyOnce",OnlyOnce_OnlyOnce.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null},{name:"unobserve",type:null}],returns:null}],displayName:"OnlyOnce"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/OnlyOnce/OnlyOnce.js"]={name:"OnlyOnce",docgenInfo:OnlyOnce_OnlyOnce.__docgenInfo,path:"docs/docs/components/OnlyOnce/OnlyOnce.js"});var _ref=react_default.a.createElement(OnlyOnce_OnlyOnce,null);__webpack_exports__.a=with_readme_default()(README_default.a,function(){return _ref})},219:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(22);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist=__webpack_require__(16),addon_knobs_react=__webpack_require__(91),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var storyBookAction=Object(dist.decorateAction)([function(args){return["isIntersecting","intersectionRatio"].map(function(key){return"".concat(key,": ").concat(args[0][key])})}])("onChange"),PlaygroundRootMargin_WindowRoot=function(_Component){function WindowRoot(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WindowRoot);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(WindowRoot)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{visibility:"hidden"}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){storyBookAction(event),_this.setState({visibility:event.isIntersecting?"visible":"invisible"})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WindowRoot,react["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WindowRoot,[{key:"render",value:function render(){var rootMargin=Object(addon_knobs_react.select)("rootMargin",{"0px":"0px","60px":"60px","-60px":"-60px","120px":"120px"},"60px");return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header ".concat(this.state.visibility)},this.state.visibility," → rootMargin=",rootMargin),react_default.a.createElement("div",{className:"body"},react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange,rootMargin:rootMargin},react_default.a.createElement("div",{className:"box ".concat(this.state.visibility)}))))}}]),WindowRoot}();PlaygroundRootMargin_WindowRoot.displayName="WindowRoot",PlaygroundRootMargin_WindowRoot.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"WindowRoot"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/Playground/PlaygroundRootMargin.js"]={name:"WindowRoot",docgenInfo:PlaygroundRootMargin_WindowRoot.__docgenInfo,path:"docs/docs/components/Playground/PlaygroundRootMargin.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return PlaygroundRootMargin_WindowRoot})},220:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(211),README_default=__webpack_require__.n(README),dist=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(22),__webpack_require__(16)),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var storyBookAction=Object(dist.decorateAction)([function(args){return["isIntersecting","intersectionRatio"].map(function(key){return"".concat(key,": ").concat(args[0][key])}).concat(["rootMargin: 0% 0% -25% 0%"])}])("onChange"),WithRootMargin_WithRootMargin=function(_Component){function WithRootMargin(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WithRootMargin);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(WithRootMargin)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{visibility:"invisible",scroller:null}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){storyBookAction(event),_this.setState({visibility:event.isIntersecting?"visible":"invisible"})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WithRootMargin,react["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WithRootMargin,[{key:"render",value:function render(){var _this2=this;return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header ".concat(this.state.visibility)},this.state.visibility),react_default.a.createElement("div",{className:"body body--frame"},react_default.a.createElement("div",{className:"scroller scroller--gradient",ref:function ref(node){_this2.state.scroller||_this2.setState({scroller:node})}},react_default.a.createElement("div",{className:"frame"},react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange,disabled:!this.state.scroller,root:this.state.scroller,rootMargin:"0% 0% -25%"},react_default.a.createElement("div",{className:"box ".concat(this.state.visibility)}))))))}}]),WithRootMargin}();WithRootMargin_WithRootMargin.displayName="WithRootMargin",WithRootMargin_WithRootMargin.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"WithRootMargin"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/WithRootMargin/WithRootMargin.js"]={name:"WithRootMargin",docgenInfo:WithRootMargin_WithRootMargin.__docgenInfo,path:"docs/docs/components/WithRootMargin/WithRootMargin.js"});var _ref=react_default.a.createElement(WithRootMargin_WithRootMargin,null);__webpack_exports__.a=with_readme_default()(README_default.a,function(){return _ref})},221:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(210),README_default=__webpack_require__.n(README),dist=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(50),__webpack_require__(22),__webpack_require__(16)),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var storyBookAction=Object(dist.decorateAction)([function(args){return["isIntersecting","intersectionRatio"].map(function(key){return"".concat(key,": ").concat(args[0][key])}).concat("thresholds: [0, 0.25, 0.5, 0.75, 1]")}])("onChange"),getPrintableThreshold=function(ratio,range){return range.reduce(function(prev,curr){return Math.abs(curr-ratio)<Math.abs(prev-ratio)?curr:prev})},WithThresholds_WithThresholds=function(_Component){function WithThresholds(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WithThresholds);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(WithThresholds)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{visibility:"hidden",threshold:0}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){storyBookAction(event),_this.setState({visibility:event.isIntersecting?"visible":"invisible",threshold:getPrintableThreshold(event.intersectionRatio.toFixed(2),[0,.25,.5,.75,1])})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WithThresholds,react["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WithThresholds,[{key:"render",value:function render(){return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header ".concat(this.state.visibility)},100*this.state.threshold,"%"),react_default.a.createElement("div",{className:"body"},react_default.a.createElement("div",{className:this.state.visibility},react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange,threshold:[0,.25,.5,.75,1]},react_default.a.createElement("div",{className:"box ".concat(this.state.visibility)})))))}}]),WithThresholds}();WithThresholds_WithThresholds.displayName="WithThresholds",WithThresholds_WithThresholds.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"WithThresholds"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/WithThresholds/WithThresholds.js"]={name:"WithThresholds",docgenInfo:WithThresholds_WithThresholds.__docgenInfo,path:"docs/docs/components/WithThresholds/WithThresholds.js"});var _ref=react_default.a.createElement(WithThresholds_WithThresholds,null);__webpack_exports__.a=with_readme_default()(README_default.a,function(){return _ref})},222:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),with_readme=__webpack_require__(15),with_readme_default=__webpack_require__.n(with_readme),README=__webpack_require__(209),README_default=__webpack_require__.n(README),dist=(__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(24),__webpack_require__(27),__webpack_require__(22),__webpack_require__(16)),IntersectionObserver=__webpack_require__(12);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var storyBookAction=Object(dist.decorateAction)([function(args){return["isIntersecting","intersectionRatio"].map(function(key){return"".concat(key,": ").concat(args[0][key])})}])("onChange"),WindowFrame_WindowFrame=function(_Component){function WindowFrame(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WindowFrame);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(WindowFrame)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"state",{visibility:"hidden"}),_defineProperty(_assertThisInitialized(_this),"handleChange",function(event){storyBookAction(event),_this.setState({visibility:event.isIntersecting?"visible":"invisible"})}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WindowFrame,react["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WindowFrame,[{key:"render",value:function render(){return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"header ".concat(this.state.visibility)},this.state.visibility),react_default.a.createElement("div",{className:"body body--frame"},react_default.a.createElement("div",{className:"scroller"},react_default.a.createElement("div",{className:"frame"},react_default.a.createElement(IntersectionObserver.a,{onChange:this.handleChange},react_default.a.createElement("div",{className:"box ".concat(this.state.visibility)}))))))}}]),WindowFrame}();WindowFrame_WindowFrame.displayName="WindowFrame",WindowFrame_WindowFrame.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"WindowFrame"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["docs/docs/components/WindowFrame/WindowFrame.js"]={name:"WindowFrame",docgenInfo:WindowFrame_WindowFrame.__docgenInfo,path:"docs/docs/components/WindowFrame/WindowFrame.js"});var _ref=react_default.a.createElement(WindowFrame_WindowFrame,null);__webpack_exports__.a=with_readme_default()(README_default.a,function(){return _ref})},223:function(module,exports,__webpack_require__){__webpack_require__(224),__webpack_require__(310),module.exports=__webpack_require__(311)},311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58),_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(206);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__.setOptions)({name:"React Intersection Observer",url:"https://github.com/researchgate/react-intersection-observer",downPanelInRight:!0}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){return __webpack_require__(370)},module)}.call(this,__webpack_require__(148)(module))},370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(371);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58),_storybook_addon_knobs_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91),_components_WindowRoot__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(217),_components_WindowFrame__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(222),_components_WithThresholds__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(221),_components_WithRootMargin__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(220),_components_OnlyOnce__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(218),_components_ImpressionTracking__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(216),_components_HigherOrderComponent__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(215),_components_Playground__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(219);__webpack_require__(513);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Examples",module).add("Window",_components_WindowRoot__WEBPACK_IMPORTED_MODULE_4__.a).add("Frame",_components_WindowFrame__WEBPACK_IMPORTED_MODULE_5__.a).add("Thresholds",_components_WithThresholds__WEBPACK_IMPORTED_MODULE_6__.a).add("Margin",_components_WithRootMargin__WEBPACK_IMPORTED_MODULE_7__.a).add("Once",_components_OnlyOnce__WEBPACK_IMPORTED_MODULE_8__.a),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Recipes",module).add("Higher Order Component",_components_HigherOrderComponent__WEBPACK_IMPORTED_MODULE_10__.a).add("Ad Impressions",_components_ImpressionTracking__WEBPACK_IMPORTED_MODULE_9__.a);var _ref=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Playground__WEBPACK_IMPORTED_MODULE_11__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Playground",module).addDecorator(_storybook_addon_knobs_react__WEBPACK_IMPORTED_MODULE_3__.withKnobs).add("rootMargin",function(){return _ref})}.call(this,__webpack_require__(148)(module))},513:function(module,exports,__webpack_require__){var content=__webpack_require__(514);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(516)(content,options);content.locals&&(module.exports=content.locals)},514:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(515)(!1)).push([module.i,"body {\n  font-family: -apple-system, \".SFNSText-Regular\", \"San Francisco\", Roboto, \"Segoe UI\", \"Helvetica Neue\",\n    \"Lucida Grande\", sans-serif;\n  margin: 0;\n  padding: 0;\n  color: #444;\n  -webkit-font-smoothing: antialiased;\n  min-height: 100%;\n}\n\n.header {\n  position: fixed;\n  z-index: 1;\n  width: 100%;\n  height: 50px;\n  font-size: 20px;\n  color: white;\n  line-height: 50px;\n  text-align: center;\n  text-transform: capitalize;\n}\n\n.body {\n  height: calc(100vh + 121px);\n  display: flex;\n  align-items: flex-end;\n}\n\n.body::after {\n  position: absolute;\n  left: 50%;\n  top: calc(50vh + 25px);\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  content: '\\2193\\00a0\\00a0scroll\\00a0\\00a0\\2193';\n  font-size: 30px;\n  color: #ddd;\n  pointer-events: none;\n}\n\n.body--center {\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: calc(200vh + 950px);\n}\n\n.body--frame {\n  padding-top: 50px;\n  height: 300px;\n}\n\n.body--frame::after {\n  top: 200px;\n}\n\n.scroller {\n  width: 100%;\n  height: 300px;\n  overflow: auto;\n  outline: 1px solid #ddd;\n}\n\n.scroller--gradient {\n  background: linear-gradient(to top, #fadecf 25%, white 25%);\n}\n\n.scroller--gradient::after {\n  position: absolute;\n  left: 50%;\n  top: 300px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  content: '-25% bottom rootMargin';\n  font-size: 20px;\n  color: #ff8142;\n  pointer-events: none;\n}\n\n.frame {\n  height: 450px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-end;\n}\n\n.box {\n  width: 120px;\n  height: 120px;\n  text-align: center;\n  line-height: 120px;\n}\n\n.box + .box {\n  margin-top: 15px;\n}\n\n.invisible {\n  background: #f50;\n  color: #fff;\n}\n.visible {\n  background: #00a39e;\n  color: #fff;\n}\n.transparent {\n  outline: 2px dashed #00a39e;\n}\n\n.ad {\n  width: 250px;\n  height: 250px;\n  border: 1px solid #ddd;\n  border-radius: 2px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.025);\n  margin-bottom: 15px;\n}\n\n.ad {\n  background-size: cover;\n  background-position: center;\n  position: relative;\n}\n\n.ad:nth-child(1) {\n  background-image: url('https://www.researchgate.net/profile/Cyprien_Verseux/project/HI-SEAS-IV-Crew/attachment/573575ab08aeeb951e439b95/AS:361171162025984@1463121323053/image/DSCN0007.JPG');\n}\n\n.ad:nth-child(2) {\n  background-image: url('https://www.researchgate.net/profile/Christiane_Heinicke/project/HI-SEAS-IV-Crew/attachment/5736681408aeeb951e43a6e8/AS:361431447949312@1463183380327/image/Verseux_CH.jpg');\n}\n\n.ad:nth-child(3) {\n  background-image: url('https://www.researchgate.net/profile/Christiane_Heinicke/project/HI-SEAS-IV-Crew/attachment/5760a74808ae990cb7fbe787/AS:373044183879680@1465952072483/image/DSC01100_s.jpg');\n}\n\n.ad--tracked::before {\n  content: '';\n  background: rgba(2, 100, 212, 0.65);\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.ad--tracked::after {\n  content: '✓';\n  font-size: 50px;\n  color: white;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n",""])}},[[223,1,2]]]);
//# sourceMappingURL=main.1c4ef0194be958a89f2f.bundle.js.map